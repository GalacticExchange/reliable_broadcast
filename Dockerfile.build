#FROM gcc:latest
FROM ubuntu:xenial

RUN apt-get update && apt-get install -y \
    build-essential \
    cmake \
    libboost-all-dev \
    git

# Redis lib
RUN git clone https://github.com/Cylix/cpp_redis.git && \
    cd cpp_redis && \
    git submodule init && git submodule update && \
    mkdir build && cd build && \
    cmake .. -DCMAKE_BUILD_TYPE=Release && \
    make && \
    make install


# todo
#COPY . /reliable_broadcast
#WORKDIR /reliable_broadcast
#
#RUN rm CMakeCache.txt
#RUN cd ops/ansible && ./build.sh